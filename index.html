<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendario</title>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />

    <script src="js/jquery.min.js"></script>
    <script src="js/moment.min.js"></script>

    <link rel="stylesheet" href="css/fullcalendar.min.css" />
    <script src="js/fullcalendar.min.js"></script>
    <script src="js/es.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col"></div>
        <div class="col-7">
          <div id="CalendarioWeb"></div>
        </div>
        <div class="col"></div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        // Se definen las variables personalizadas para la reserva
        var reservaTitle = "Reunión con el equipo"; // Título la reserva
        var reservaProfesor = "Profesor"; // Profesor la reserva
        var reservaCarro = "Carro1"; // Carro de la reserva
        var reservaNumeroOrdenadores = "10"; // Número de ordenadores la reserva
        var reservaDescription = "Descripción de la reunión"; // Descripción la reserva
        var reservaStartDate = "2025-03-26"; // Fecha de inicio de la reserva
        var reservaEndDate = "2025-03-28"; // Fecha de fin de la reserva
        var reservaColor = "#c95832"; // Color de la reserva

        // Se inicializa el calendario
        $("#CalendarioWeb").fullCalendar({
          // Se define el encabezado (botones y vista)
          header: {
            left: "prev,next today", // Botones de navegación
            center: "title", // Muestra el título del mes
            right: "month,agendaWeek,agendaDay", // Opciones para cambiar la vista del calendario
          },

          // Esta función se ejecuta cuando se hace clic en un día del calendario
          dayClick: function (date, jsEvent, view) {
            // Se muestra la fecha seleccionada en el modal
            $("#fechaSeleccionada").text(
              "Día Seleccionado: " + date.format("DD/MM/YYYY")
            );

            // Se abre el modal para mostrar más información
            $("#exampleModal").modal("show");
          },

          // Se definen los eventos que se van a mostrar en el calendario
          events: [
            {
              title: reservaTitle,
              description: reservaDescription,
              start: reservaStartDate,
              end: reservaEndDate,
              color: reservaColor,
              profesor: reservaProfesor,
              carro: reservaCarro,
              numeroOrdenadores: reservaNumeroOrdenadores,
            },
          ],

          // Esta función se ejecuta cuando se hace clic en un evento
          eventClick: function (event) {
            // Al hacer clic en un evento, se muestra el título, la descripción y demás datos en el modal
            $("#modalTitle").text(event.title);
            $("#modalDescription").text(event.description);
            $("#modalColor").val(event.color);
            $("#modalProfesor").text(event.profesor);
            $("#modalCarro").text(event.carro);
            $("#modalNumeroOrdenadores").text(event.numeroOrdenadores);

            $("#exampleModal").modal("show");
          },
        });
      });
    </script>

    <!-- Modal de Bootstrap para mostrar información del evento -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <!-- Título del modal (se actualiza dinámicamente con el título del evento) -->
            <h5 class="modal-title" id="modalTitle">Modal title</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Descripción del evento (se actualiza dinámicamente con la descripción del evento) -->
            <p id="modalDescription"></p>
            <p>Profesor:<span id="modalProfesor"> </span></p>
            <p>Carro: <span id="modalCarro"></span></p>
            <p>
              Número de ordenadores: <span id="modalNumeroOrdenadores"></span>
            </p>
          </div>
          <div class="modal-footer">
            <!-- Botones para cerrar o borrar el modal o guardar información -->
            <button type="button" class="btn btn-secondary"data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary">Guardar</button>
            <button type="button" class="btn btn-primary-red">Borrar</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
